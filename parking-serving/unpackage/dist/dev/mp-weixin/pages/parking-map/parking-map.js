(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/parking-map/parking-map"],{208:function(e,t,n){"use strict";(function(e,t){var o=n(4);n(26);o(n(25));var a=o(n(209));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n(1)["default"],n(2)["createPage"])},209:function(e,t,n){"use strict";n.r(t);var o=n(210),a=n(212);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n(214);var i,c=n(32),u=Object(c["default"])(a["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],i);u.options.__file="pages/parking-map/parking-map.vue",t["default"]=u.exports},210:function(e,t,n){"use strict";n.r(t);var o=n(211);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},211:function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return a})),n.d(t,"staticRenderFns",(function(){return i})),n.d(t,"recyclableRender",(function(){return r})),n.d(t,"components",(function(){return o}));var a=function(){var e=this,t=e.$createElement;e._self._c},r=!1,i=[];a._withStripped=!0},212:function(e,t,n){"use strict";n.r(t);var o=n(213),a=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},213:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i=n(197),c={data:function(){return{data:[],IsOption:!1,searchKey:"",address:"",latitude:"",longitude:"",markers:[{id:1,latitude:"",longitude:"",name:"当前位置",width:"30",height:"40"}]}},onLoad:function(){var t=this;r=this,r.mapCtx=e.createMapContext("myMap"),a=new i({key:"LT2BZ-RSKED-BEH46-P7MBK-7OVF3-GLBRU"}),o.getLocation({type:"gcj02",success:function(e){t.latitude=e.latitude,t.longitude=e.longitude,t.markers[0].latitude=t.latitude,t.markers[0].longitude=t.longitude}})},methods:{backres:function(){var e=o.getStorageSync("address");console.log(e);var t=getCurrentPages(),n=t[t.length-2];o.navigateBack({delta:1,success:function(){n.$vm.otherFun(e)}})},search:function(e){r.searchKey=e.detail.value;var t=r.latitude+","+r.longitude;r.mapSearch(r.searchKey,t).then((function(e){r.data=e.data,r.searchKey&&r.data.length?r.IsOption=!0:r.IsOption=!1}),(function(e){console.log(e,"请求失败")}))},tapOption:function(e){r.searchKey=e.title,r.IsOption=!1,r.data=[];var t={};t.latitude=e.location.lat,t.longitude=e.location.lng,a.reverseGeocoder({location:{longitude:e.location.lng,latitude:e.location.lat},success:function(e){console.log("准确位置",e.result.formatted_addresses.recommend),o.setStorageSync("address",e.result.formatted_addresses.recommend)},fail:function(e){console.log(e)}}),r.toLocation(t)},toLocation:function(e){r.mapCtx.moveToLocation(e),r.mapCtx.translateMarker({markerId:1,autoRotate:!1,duration:100,destination:{latitude:e.latitude,longitude:e.longitude},animationEnd:function(){console.log("animation end")}})},mapSearch:function(e,t){console.log(e,t,"keyword,location");var n=new Promise((function(n,o){a.search({keyword:e,location:t,success:function(e){n(e)},fail:function(e){o(e)}})}));return n},poitap:function(e){var t=e.detail;a.reverseGeocoder({location:{longitude:e.detail.longitude,latitude:e.detail.latitude},success:function(e){console.log(e.result.formatted_addresses.recommend),o.setStorageSync("address",e.result.formatted_addresses.recommend)},fail:function(e){console.log(e)}}),r.searchKey=t.name,r.toLocation(t)}}};t.default=c}).call(this,n(1)["default"],n(2)["default"])},214:function(e,t,n){"use strict";n.r(t);var o=n(215),a=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},215:function(e,t,n){}},[[208,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/parking-map/parking-map.js.map